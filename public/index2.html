<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Pierre Feuille Papier Ciseaux</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  </head>
  <body>
    <div class="container">
      <h1>Shifumi réalisé en JavaScript</h1>
      <p>Les deux joueurs choisissent simultanément un des trois coups possibles en le symbolisant de la main :</p>
      <img src="https://upload.wikimedia.org/wikipedia/commons/7/7e/Rock-paper-scissors_%28rock%29.png" width="100" alt="Pierre">
      <img src="https://upload.wikimedia.org/wikipedia/commons/a/af/Rock-paper-scissors_%28paper%29.png" width="100" alt="Feuille">
      <img src="https://upload.wikimedia.org/wikipedia/commons/5/5f/Rock-paper-scissors_%28scissors%29.png" width="100" alt="Ciseaux">
      <p>De façon générale, la pierre bat les ciseaux (en les émoussant), les ciseaux battent la feuille (en la coupant), la feuille bat la pierre (en l'enveloppant). Ainsi chaque coup bat un autre coup, fait match nul contre le deuxième (son homologue) et est battu par le troisième.</p>
    
      <button class="btn btn-warning btn-lg">Pierre</button>
      <button class="btn btn-danger btn-lg">Feuille</button>
      <button class="btn btn-success btn-lg">Ciseaux</button>
      <div class="resultat"></div>
    </div>

    <script type="text/javascript">
      const buttons = document.querySelectorAll("button");
      const username = prompt("Veuillez indiquer votre nom d'utilisateur...");

      for (let i = 0; i < buttons.length; i++){
        buttons[i].addEventListener("click", function() {
          var joueur = buttons[i].innerHTML;
          var robot = buttons[Math.floor(Math.random() * buttons.length)].innerHTML;
          var resultat;

          // Logique entiere du jeu
          if (joueur === robot)
            resultat = "Vous avez fait une egalité !";
          else if ((joueur === "Pierre" && robot === "Ciseaux") || (joueur === "Feuille" && robot === "Pierre") || (joueur === "Ciseaux" && robot === "Feuille"))
            resultat = "Vous avez gagné !!";
          else
            resultat = "Vous avez perdu !";
          document.querySelector(".resultat").innerHTML = `
            ${username} : ${joueur}</br>
            Le robot a choisi : ${robot}</br>
            ${resultat}
          `;
        })
      }
    </script>
  </body>
</html>